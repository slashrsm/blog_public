<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/  dc: http://purl.org/dc/terms/  foaf: http://xmlns.com/foaf/0.1/  og: http://ogp.me/ns#  rdfs: http://www.w3.org/2000/01/rdf-schema#  schema: http://schema.org/  sioc: http://rdfs.org/sioc/ns#  sioct: http://rdfs.org/sioc/types#  skos: http://www.w3.org/2004/02/skos/core#  xsd: http://www.w3.org/2001/XMLSchema# ">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
<meta name="description" content="Drupal 8 was officially released last November. Since then I have planning to try to migrate my blog from previous version of this great CMS. Drupal 8 comes with many improvements and I definitely wanted to leverage those on my site as well. Curious how it went? Read on..." />
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" href="../themes/custom/janezurevc_name/favicon/index.ico" type="image/vnd.microsoft.icon" />
<link rel="canonical" href="index.html" />
<link rel="shortlink" href="index.html" />

    <title>janezurevc.name runs on Drupal 8! | Janez Urevc</title>
    <link rel="stylesheet" media="all" href="../core/modules/system/css/components/align.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/fieldgroup.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/container-inline.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/clearfix.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/details.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/hidden.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/item-list.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/js.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/nowrap.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/position-container.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/progress.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/reset-appearance.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/resize.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/sticky-header.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/system-status-counter/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/system-status-report-counters/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/system-status-report-general-info/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/tablesort.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/system/css/components/tree-child.module/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../core/modules/filter/css/filter.caption/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.css" integrity="sha256-0XAFLBbK7DgQ8t7mRWU5BF2OMm9tjtfH945Z7TTeNIo=" crossorigin="anonymous" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.css" integrity="sha512-j4mdyNbQqqp+6Q/HtootpbGoc2ZX0C/ktbXnauPFEz7A457PB6le79qasOBVcrSrOBtGAm0aVU2SOKFzBl6RhA==" crossorigin="anonymous" />
<link rel="stylesheet" media="all" href="../themes/custom/bootstrap_clean_blog/css/clean-blog/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="../themes/custom/bootstrap_clean_blog/css/theme/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />
<link rel="stylesheet" media="all" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
<link rel="stylesheet" media="all" href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
<link rel="stylesheet" media="all" href="../themes/custom/janezurevc_name/theme/index.css?s16r9a" />
<link rel="stylesheet" media="all" href="http://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/androidstudio.min.css" />

    
  </head>
  <body class="path-node node--type-article">
    <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    <nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse"
              data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
              <a class="navbar-brand" href="../" title="Home">Janez Urevc</a>
          </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <nav role="navigation" aria-labelledby="block-mainnavigation-menu" id="block-mainnavigation">
            <h2 class="sr-only" id="block-mainnavigation-menu">Main navigation</h2>

      
              <ul class="nav navbar-nav navbar-right">
                  <li>
          <a href="../about/" data-drupal-link-system-path="node/2">About</a>
                  </li>
              <li>
          <a href="../get-in-touch/" data-drupal-link-system-path="node/116">Get in touch</a>
                  </li>
          </ul>
  


  </nav>

    </div>
    <!-- /.navbar-collapse -->
  </div>
</nav>

<!-- Page Header -->
<!-- Set your background image for this header on the line below. -->
<header class="intro-header" style="background-image: url('../themes/custom/janezurevc_name/images/default_bg/index.jpg')">
  <div class="container">
    <div class="row">
              <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <div class="post-heading">
            <h1>janezurevc.name runs on Drupal 8!</h1>
          </div>
        </div>
          </div>
  </div>
</header>

<!-- Post Content -->
<article>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        

                          <a id="main-content"></a>
            <div class="region region-content">
    <div data-drupal-messages-fallback class="hidden"></div>
  <article role="article" about="/janezurevc-name-runs-on-drupal-8">

  
    

      <div class="post-meta submitted">
      <article typeof="schema:Person" about="/users/slashrsm">
  </article>

      <div class="post-date">
        
<span>Mon, 08.02.2016 - 07:30</span>

        
      </div>
      <!--<div class="comments-counter"><a href="/janezurevc-name-runs-on-drupal-8#disqus_thread" data-disqus-identifier="node/84" hreflang="en">Comments</a></div>-->
    </div>
  
  <div class="content">
    
            <div class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p><a href="https://drupal.org/">Drupal</a> 8 was officially released last November. Since then I have planning to try to migrate <a href="../">my blog</a> from previous version of this great CMS. <a href="https://www.drupal.org/8">Drupal 8 comes with many improvements</a> and I definitely wanted to leverage those on my site as well.</p>

<p>Besides that, I always used my personal site as an experimental sandbox where I tested new Drupal modules, themes and technologies. Even if <a href="https://drupal.org/u/slashrsm">I am very active contributor</a> to Drupal core and contributed modules and I've been working on <a href="http://examiner.github.io/pubtool_session">an enterprise Drupal 8 project</a> at my work, I've never actually migrated a site to Drupal 8 to this date. It was definitely something I wanted to try.</p>

<p>A previous version of janezurevc.name was running on Drupal 7. It is important to note migration from 7 to 8 isn't officially supported yet. Drupal 7 won't reach EOL for at least few more years, which makes this migration not critical. However, migrations from Drupal 6 have been fully supported since the day 8 was released. 6 will reach EOL this month, which makes migration from 6 to 8 an absolute priority.</p>

<h2>Migration</h2>

<p>My site is actually very basic. I am using content (2 content types), taxonomy (1 vocabulary), few contributed modules and that is really it. It turns out that everything that I needed migrates reliably.</p>

<p>I started the process by reading <a href="https://www.drupal.org/upgrade/migrate">official documentation</a>. Besides <em>Migrate</em> and <em>Migrate Drupal</em> modules that come with core, I needed few contributed modules: <a href="https://www.drupal.org/project/migrate_upgrade">Drupal upgrade</a>, <a href="https://drupal.org/project/migrate_tools">Migrate tools</a> and <a href="https://drupal.org/">Migrate plus</a>.</p>

<p>Migration itself was extremely easy. I installed the Drupal 8 site, enabled migrate modules, started migration and waited for a few minutes. That's it! At least for core stuff. There are some glitches when it comes to contributed modules, but even those were fairly easy to resolve.</p>

<p>I want to thank everyone that contributed to Migrate in Drupal core. You did an awesome job!</p>

<h2>Theme</h2>

<p>The Drupal 7 version of my blog used a <a href="https://drupal.org/proejct/sky">Sky theme</a>, which is unfortunately not ported to 8 yet. For that reason I needed to search the theme repository and came across the <a href="https://drupal.org/project/bootstrap_clean_blog">Bootstrap clean blog</a>.</p>

<figure role="group"><img src="../sites/default/files/attached-files/bcb/index.png" title="Bootstrap clean blog project page" /><figcaption>Bootstrap clean blog project page</figcaption></figure><p>It looked nice and it had a Drupal 8 -dev release. Regardless of that, it worked like a charm. I even contributed <a href="https://www.drupal.org/node/2663456">minor</a> <a href="https://www.drupal.org/node/2663442">patches</a> and am planning to contribute a few more.</p>

<p><em>How do you like the theme?</em></p>

<h2>Modules</h2>

<p>Like almost every Drupal website out there mine also uses few contributed modules. Let's see how that went.</p>

<h3>Disqus</h3>

<p>The Disqus module has been ported as part of the <a href="../progress-entity-embed-module-gsoc-2014/">Google summer of code project</a>, which I mentored in 2014. The module itself works very well. We changed the architecture a bit; instead of having a custom database table, we instead used a dedicated field type. This approach comes with many benefits. By doing this we're not limited to nodes anymore. Disqus can be used on any entity type now.</p>

<figure role="group"><img src="../sites/default/files/attached-files/disqus/index.png" title="Disqus on 'Manage fields' page" /><figcaption>Disqus on 'Manage fields' page</figcaption></figure><p>Even if the port was there, migration was not. I used this opportunity to dig into this part of Drupal a bit more. I wrote a 7 to 8 migration support for everything Disqus needs. This includes general configuration, fields on entities, statuses and identifiers. My code is <a href="http://cgit.drupalcode.org/disqus/commit/?id=be0beb18637c1fbc6d7a246b385ef2ab8f586c8b">already committed</a> and you can give it a try.</p>

<p><em>Did you try Disqus migration? Let me know how it worked for you.</em></p>

<h2>Pathauto and Redirect</h2>

<p>D8 ports are available on <a href="https://drupal.org/project/pathauto">their</a> Drupal.org <a href="https://drupal.org/project/redirect">project</a> pages. They work great. While core migrates existing aliases, alias patterns, redirects and other configurations aren't supported yet. I had just 3 alias patterns and less than 10 redirects on my old site, so this wasn't hard to fix manually.</p>

<p>If you meet <a href="https://drupal.org/u/berdir">@Berdir</a> please buy him a beer. He did an awesome job porting this (any many other) modules.</p>

<h2>Media</h2>

<p>I was using media to embed images in WYSIWYG, which uses the legacy embed token in Drupal 7. This part was unfortunately not ported yet. I was using this in less than 10 places so I decided to fix this manually too. I used a simple SQL query to get node IDs of content that used the legacy token. Then I simply changed it to standard <img /> tag with data-entity-* attributes, which Drupal 8 uses for it's own image embeds.</p>

<h2>Markdown filter</h2>

<p>Recently I found out that I prefer <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> when producing written content. It doesn't interfere with my writing flow nearly as much as WYSIWYG editors do. When using Markdown, I focus on content instead of the appearance (for the same reason I really liked <a href="http://www.latex-project.org/">LaTeX</a> during my university years).</p>

<figure role="group"><img src="../sites/default/files/attached-files/markdown/index.png" title="This post being produced in Markdown" /><figcaption>This post being produced in Markdown</figcaption></figure><p>Guess what? There is a module for that! The <a href="https://drupal.org/project/markdown">Markdown filter</a> comes with a text filter that will convert Markdown syntax to HTML when displaying it. And it also has a Drupal 8 port. Download, install, configure, use. It was as easy as that!</p>

<p><em>How does Markdown work for you? Do you prefer it over the WYSIWYG editor as much as I do?</em></p>

<h2>Other modules</h2>

<p>I used a few other modules on the page. All of them have some kind of Drupal 8 release:</p>

<ul><li><a href="https://drupal.org/project/honeypot">Honeypot</a></li>
<li><a href="https://drupal.org/project/metatag">Metatag</a></li>
<li><a href="https://drupal.org/project/simple_sitemap">Simple sitemap</a></li>
<li><a href="https://drupal.org/project/google_analytics">Google analytics</a></li>
</ul><p>All of them work without any problem. I downloaded, installed and configured them. Google analytics even comes with support for migration (which meant the 3rd step was not needed).</p>

<p>Great work, maintainers and contributors!</p>

<h2>Other interesting stuff</h2>

<p>I also used this migration to move my blog to a new hosting solution. The old blog was hosted on a VPS that I had used in the past and am slowly moving away from. Most of my sites and services are currently hosted on a dedicated server at <a href="http://www.hetzner.com/">Hetzner</a> (they provide excellent value for the price, so I'd definitely recommend them).</p>

<p>Recently I started using <a href="http://www.docker.com/">Docker</a> for my development environments and I wanted to try it in production too (I mentioned I am (ab)using my personal site for experimenting, right? :)). As a result of that I'm hosting <a href="../">janezurevc.name</a> in a Dockerized environment managed via <a href="https://docs.docker.com/compose/">Docker compose</a>. Compose is super nice as it allows you to describe your infrastructure stack in a single YAML file. This allows you to commit it to a VCS repository and replicate infrastructure anywhere you want. <em>But this is already a topic planned for some of my future posts.</em></p>

<p><em>Did you try to migrate your Drupal 6 or 7 sites to 8? How did it go? Which contributed modules are you using?</em></p>
</div>
      
  <div class="field field--name-field-tags field--type-entity-reference field--label-inline">
    <div class="field--label">Tags</div>
          <div class="field--items">
              <div class="field--item"><a href="../tags/drupal/" hreflang="en">Drupal</a></div>
              </div>
      </div>

  <div class="field field--name-field-related field--type-entity-reference field--label-above">
    <div class="field--label">Enjoyed this post? There is more!</div>
          <div class="field--items">
              <div class="field--item"><a href="../a-lot-of-exciting-drupal-8-media-news/" hreflang="en">A lot of exciting Drupal 8 media news!</a></div>
          <div class="field--item"><a href="../zurich-drupal-8-media-sprint-was-a-success/" hreflang="und">Zurich Drupal 8 media sprint was a success!</a></div>
          <div class="field--item"><a href="../when-will-media-be-ready-for-drupal-8/" hreflang="und">When will media be ready for Drupal 8?</a></div>
              </div>
      </div>

  </div>

</article>


  </div>

              </div>
    </div>
  </div>
</article>

<hr>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                                <ul class="list-inline text-center">
                      <li>
              <a target="_blank" href="https://github.com/slashrsm">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
              </a>
            </li>
                      <li>
              <a target="_blank" href="https://drupal.org/u/slashrsm">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-drupal fa-stack-1x fa-inverse"></i>
              </span>
              </a>
            </li>
                      <li>
              <a target="_blank" href="https://si.linkedin.com/in/janezurevc">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
              </a>
            </li>
                  </ul>
                
        
      </div>
    </div>
  </div>
</footer>

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/84","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click","tooltip_enabled":1,"tooltip_animation":1,"tooltip_container":"body","tooltip_delay":"0","tooltip_html":0,"tooltip_placement":"auto left","tooltip_selector":"","tooltip_trigger":"hover"},"disqusComments":"slashrsm","user":{"uid":0,"permissionsHash":"98faaa155a1d3d1c9a77b0c926183091b94fbfa1c641b6b55a329d0db91cf226"}}</script>
<script src="../sites/default/files/js/js_AqmDmmXtxeaHVu3xcdG2zyaHEnlZalxy9J6xKDJ1uAI/index.js"></script>

<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_5RH3jC1tW_hjk-Nh0Q_ZFhpL-scB_L3h1PfGSh7kitQ.js"></script>
<![endif]-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>
<script src="../sites/default/files/js/js_SBPs4Nz8s8sJ8Fu_02wEGLfwObvZDsPxZOtNkHQNtKc/index.js"></script>
<script src="http://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>
<script src="../sites/default/files/js/js_BpR0uWPRfXSLglxmI-MLiWRwWtbnsxDCDenNoWjaMiQ/index.js"></script>

  </body>
</html>
